<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<link rel="search" type="application/opensearchdescription+xml" title="NodeCG" href="/opensearch.xml">
<script>(()=>{const e=new URL(window.location.href),t=new URLSearchParams(e.search);t.has("theme")&&localStorage.setItem("theme",t.get("theme"))})()</script><title data-react-helmet="true">Docker | NodeCG</title><meta data-react-helmet="true" property="og:image" content="https://nodecg.dev//img/splash.png"><meta data-react-helmet="true" property="twitter:image" content="https://nodecg.dev//img/splash.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for NodeCG"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Docker | NodeCG"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><meta data-react-helmet="true" property="og:url" content="https://nodecg.dev//docs/docker"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://nodecg.dev//docs/docker"><link rel="stylesheet" href="/styles.ed94f8e4.css">
<link rel="preload" href="/styles.c97c13d8.js" as="script">
<link rel="preload" href="/runtime~main.a1ceba09.js" as="script">
<link rel="preload" href="/main.516f7385.js" as="script">
<link rel="preload" href="/1.4750d242.js" as="script">
<link rel="preload" href="/73.27d2bc82.js" as="script">
<link rel="preload" href="/76.19959194.js" as="script">
<link rel="preload" href="/935f2afb.ed819396.js" as="script">
<link rel="preload" href="/72.27fe29fa.js" as="script">
<link rel="preload" href="/93234bd6.a8d5f667.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="NodeCG Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo.png" alt="NodeCG Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">NodeCG</strong></a><a href="https://github.com/nodecg/nodecg/releases" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.8 * var(--ifm-font-size-base))">v1.9.0</a><a class="navbar__item navbar__link" href="/docs/what-is-nodecg">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nodecg/nodecg" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="NodeCG Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo.png" alt="NodeCG Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">NodeCG</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/nodecg/nodecg/releases" target="_blank" rel="noopener noreferrer" class="menu__link" style="white-space:nowrap;padding:0.25rem 0.5rem 0.2rem 0.25rem;font-size:calc(0.8 * var(--ifm-font-size-base))">v1.9.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/what-is-nodecg">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/nodecg/nodecg" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Quick Start</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/what-is-nodecg">NodeCG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installing">Installing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/creating-bundles">Creating Bundles</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concepts-and-terminology">Concepts and Terminology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/manifest">Manifest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/nodecg-configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/using-npm">Node Dependencies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/bundle-configuration">Bundle Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/assets">Assets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sounds">Sounds</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/replicant-schemas">Replicant Validation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/performance-tips">Performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/making-dialogs">Making Dashboard Dialogs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/portable-nodecg">Portable NodeCG</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mounts">Mount folders as endpoints</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/security">Security &amp; Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screenshot-testing">Testing Graphics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/custom-routes">Custom Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sentry">Sentry.io</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/docker">Docker</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Using Frameworks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/frameworks/using-bundlers">Bundlers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/frameworks/typescript">TypeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/frameworks/vue">vue.js</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/frameworks/using-p5js">p5.js</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Migrating</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/migrating/migrating-0.7-to-0.8">0.7 â†’ 0.8</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/migrating/migrating-0.8-to-0.9">0.8 â†’ 0.9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/migrating/migrating-0.9-to-1.0">0.9 â†’ 1.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/nodecg">NodeCG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/replicant">Replicant</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/readReplicant">readReplicant</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/waitForReplicants">waitForReplicants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/sendMessage">sendMessage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/sendMessageToBundle">sendMessageToBundle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/listenFor">listenFor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/unlisten">unlisten</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/log">log()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/router">Router</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/mount">mount()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/getDialog">getDialog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/getDialogDocument">getDialogDocument</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/getSocketIOServer">getSocketIOServer()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/findCue">findCue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/playSound">playSound</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/stopAllSounds">stopAllSounds()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/classes/stopSound">stopSound</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Docker</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="introduction"></a>Introduction<a aria-hidden="true" class="hash-link" href="#introduction" title="Direct link to heading">#</a></h1><blockquote><p>Docker is a platform for developers and sysadmins to develop, deploy, and run applications with containers. The use of Linux containers to deploy applications is called containerization. Containers are not new, but their use for easily deploying applications is.</p><p>Containerization is increasingly popular because containers are:</p><ul><li>Flexible: Even the most complex applications can be containerized.</li><li>Lightweight: Containers leverage and share the host kernel.</li><li>Interchangeable: You can deploy updates and upgrades on-the-fly.</li><li>Portable: You can build locally, deploy to the cloud, and run anywhere.</li><li>Scalable: You can increase and automatically distribute container replicas.</li><li>Stackable: You can stack services vertically and on-the-fly.</li></ul><p>Source <a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener noreferrer">Get Started - docs.docker.com</a> (It&#x27;s highly recommend to read into it if you didn&#x27;t already)</p></blockquote><p>Docker provides a lot of useful features for NodeCG:</p><ul><li>No need to care about dependencies. They are all bundled with the docker image</li><li>Run it everywhere.</li><li>Easy upgrades.</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="prerequisites"></a>Prerequisites<a aria-hidden="true" class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h1><ul><li><a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">Docker</a></li><li><a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker-Compose</a> (<code>1.13.0+</code>) (optional)</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="bundle-development"></a>Bundle development<a aria-hidden="true" class="hash-link" href="#bundle-development" title="Direct link to heading">#</a></h1><p>If you want to use NodeCG in development, you can easily deploy a NodeCG instance with Docker. All you have to do is run:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sh codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="background-color:#faf8f5;color:#174cbb"><div class="token-line" style="color:#174cbb"><span class="token plain">docker run -it -u root -p 9090:9090 -rm nodecg/nodecg</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The argument <code>-u root</code> is needed to ensure that the NodeCG process runnning inside the container has the rights to read the mounted volumes.</p></div></div><p>To include the bundle you&#x27;re working on in this Docker Container. You can mount it like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sh codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="background-color:#faf8f5;color:#174cbb"><div class="token-line" style="color:#174cbb"><span class="token plain">docker run -it -u root -p 9090:9090 -rm -v [bundle-dir]:/opt/nodecg/bundles/[bundle-name] -v [config-file]:/opt/nodecg/cfg/[bundle].json nodecg/nodecg</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Mounting the volumes and running as <code>root</code> will ensure that the changes are in the container, without a docker image rebuild.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="production"></a>Production<a aria-hidden="true" class="hash-link" href="#production" title="Direct link to heading">#</a></h1><p>If you want to use NodeCG in production, it is recommended to build a own Docker Image to hold all your bundles and configuration.</p><p>Example Dockerfile:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-dockerfile codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="background-color:#faf8f5;color:#174cbb"><div class="token-line" style="color:#174cbb"><span class="token plain">FROM nodecg/nodecg:v1.9.0</span></div><div class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#174cbb"><span class="token plain">USER root</span></div><div class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#174cbb"><span class="token plain"># Add commands to install global dependencies here, like Bower</span></div><div class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#174cbb"><span class="token plain">USER nodecg</span></div><div class="token-line" style="color:#174cbb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#174cbb"><span class="token plain">RUN nodecg install [bundle-repo] &amp;&amp; nodecg defaultconfig [bundle-name] &amp;&amp; \</span></div><div class="token-line" style="color:#174cbb"><span class="token plain">    ... </span></div><div class="token-line" style="color:#174cbb"><span class="token plain">    </span></div><div class="token-line" style="color:#174cbb"><span class="token plain">COPY --chown=nodecg:nodecg [nodecg-config-file] /opt/nodecg/cfg/nodecg.json</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Optional Tip</h5></div><div class="admonition-content"><p>You could add the configuration files to your image to avoid problems with the file permissions. (<strong>If you decide to do so, be careful with the secrets in these files as everyone who has access to the docker image has access to the secrets in the configuration files</strong>)</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-dockerfile codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="background-color:#faf8f5;color:#174cbb"><div class="token-line" style="color:#174cbb"><span class="token plain">COPY --chown=nodecg:nodecg [bundle-config-file] /opt/nodecg/cfg/[bundle].json</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Instead of the seperate <code>COPY</code> directives you could use only one:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-dockerfile codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="background-color:#faf8f5;color:#174cbb"><div class="token-line" style="color:#174cbb"><span class="token plain">COPY --chown=nodecg:nodecg [config-dir]/* /opt/nodecg/cfg/</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This will create only one layer. But requires you to organize all your configuration files in the same directory.
<a href="https://docs.docker.com/engine/reference/builder/#copy" target="_blank" rel="noopener noreferrer">More Information</a></p></div></div><ol><li><p><code>FROM nodecg/nodecg:v1.9.0</code> Defines the parent image that should be used to build your Docker Image. We use <code>nodecg/nodecg</code> with the latest version tag <code>v1.5.0</code>. The parent image already include <a href="https://nodecg.com" target="_blank" rel="noopener noreferrer">NodeCG</a> and <a href="https://github.com/nodecg/nodecg-cli" target="_blank" rel="noopener noreferrer">nodecg-cli</a>.</p></li><li><p><code># Add commands to install global dependencies here, like Bower</code> If you use bundles that require Bower or any other external dependencies, install them here. It will make the next build faster if these external dependencies dont change. To install bower use <code>RUN npm install -g bower</code>.</p></li><li><p><code>RUN nodecg install ... &amp;&amp; nodecg defaultconfig ...</code> Installs your bundles and generates the default configs for them. (if you include the configuration later, you dont need to generate the default configuration)</p><blockquote><p>nodecg install (more information at <a href="https://github.com/nodecg/nodecg-cli" target="_blank" rel="noopener noreferrer">nodecg-cli</a>)</p><p>To install a bundle from Github, enter the owner and repository name:</p><p><code>nodecg install lange/lange-notify</code></p><p>... to install a bundle from Bitbucket, enter the owner and repository name prefixed with bitbucket:</p><p><code>nodecg install bitbucket:username/repo-name</code></p><p>... to install a bundle from any other git provider, enter the git URL:</p><p><code>nodecg install https://gitlab.com/username/repo-name.git</code></p></blockquote></li><li><p><code>COPY --chown=nodecg:nodecg [nodecg-config-file] /usr/src/app/cfg/nodecg.json</code> Copies the config file from your filesystem into the Docker Image and can be accessed from the container. (<code>--chown</code> is needed because the NodeCG process is run by the user <code>nodecg</code>)</p></li></ol><p>Now use Docker to build your image from the Dockerfile you just created:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sh codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="background-color:#faf8f5;color:#174cbb"><div class="token-line" style="color:#174cbb"><span class="token plain">docker build -v [configuration dir]:/opt/nodecg/cfg -t [your-image-name] .</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>And run it with:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sh codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="background-color:#faf8f5;color:#174cbb"><div class="token-line" style="color:#174cbb"><span class="token plain">docker run -p 9090:9090 [your-image-name]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Or create a docker-compose.yml like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-yaml codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="background-color:#faf8f5;color:#174cbb"><div class="token-line" style="color:#174cbb"><span class="token key atrule">version</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;3&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#174cbb"><span class="token plain"></span><span class="token key atrule">services</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"></span></div><div class="token-line" style="color:#174cbb"><span class="token plain">  </span><span class="token key atrule">nodecg</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"></span></div><div class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;[your-image-name]&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"></span></div><div class="token-line" style="color:#174cbb"><span class="token plain">      </span><span class="token punctuation" style="color:#714d01">-</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;9090:9090&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#174cbb"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:#714d01">:</span><span class="token plain"></span></div><div class="token-line" style="color:#174cbb"><span class="token plain">      </span><span class="token punctuation" style="color:#714d01">-</span><span class="token plain"> </span><span class="token string" style="color:#6100e2">&#x27;[configuration dir]:/opt/nodecg/cfg&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><blockquote><p>Be sure that your configuration dir is accessable by <code>nodecg:nodecg</code> (uid: <code>101</code>, gid: <code>102</code>)</p></blockquote><p>Build a new docker image for your deployment has the advantage, that it is safer (because it is run as a non-root user), more consistent (because the container wont keep changes, except your explicitly tell it to).</p><p>To upgrade NodeCG just build a new image with the new parent.
Replace <code>FROM nodecg/nodecg:1.9.0</code> with <code>FROM nodecg/nodecg:[newer version]</code></p><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>If you want to host your NodeCG instance on the internet (instead of just on a secure LAN), it is highly recommended to encrypt and secure NodeCG.</p><p>To encrypt the traffic, you can use a <a href="https://en.wikipedia.org/wiki/TLS_termination_proxy" target="_blank" rel="noopener noreferrer">TLS/SSL termination proxy</a> like:</p><ul><li><a href="https://github.com/containous/traefik" target="_blank" rel="noopener noreferrer">Traefik</a> - Really neat if you host a lot of services in docker.</li><li><a href="https://proxy.dockerflow.com/" target="_blank" rel="noopener noreferrer">Docker Flow Proxy</a> - Similar to Traefik.</li><li><a href="https://caddyserver.com" target="_blank" rel="noopener noreferrer">Caddy</a> - Be aware of the licensing of the binaries. It should be ok if you build it yourself e.g. in a Docker Image. No garantee.</li><li><a href="https://github.com/nginx-proxy/nginx-proxy#ssl-support-using-letsencrypt" target="_blank" rel="noopener noreferrer">nginx-proxy w/ letsencrypt</a> - Useful if you&#x27;re already familiar with nginx or have existing site configurations you&#x27;d like to port over.</li><li>Others - There are a lot of other solutions. Choose what fits you best.</li></ul><p>To secure NodeCG, follow the <a href="/docs/security">Security &amp; Authentication</a> guide.</p></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nodecg/docs/edit/master/docs/docker.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-11-09T17:48:48.000Z" class="docLastUpdatedAt_217_">11/9/2022</time> by <strong>Daniel Shields</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/sentry"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Error Reporting with Sentry.io</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/frameworks/using-bundlers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using Bundlers Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/what-is-nodecg">What is NodeCG</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/creating-bundles">Quick Start</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/invite/GJ4r8a8" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/nodecg/nodecg" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/nodecg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div>Copyright (c) 2020 Alex Van Camp, Matthew McNamara, and contributors</div></div></div></footer></div>
<script src="/styles.c97c13d8.js"></script>
<script src="/runtime~main.a1ceba09.js"></script>
<script src="/main.516f7385.js"></script>
<script src="/1.4750d242.js"></script>
<script src="/73.27d2bc82.js"></script>
<script src="/76.19959194.js"></script>
<script src="/935f2afb.ed819396.js"></script>
<script src="/72.27fe29fa.js"></script>
<script src="/93234bd6.a8d5f667.js"></script>
</body>
</html>